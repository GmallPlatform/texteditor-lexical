"use strict";const c=require("./index-D16gJ2rU.cjs"),o=require("lexical"),s=require("react");function l(t,e){return t.getEditorState().read(()=>{const i=o.$getNodeByKey(e);return i!==null&&i.isSelected()})}function a(t){const[e]=c.o(),[i,u]=s.useState(()=>l(e,t));return s.useEffect(()=>{let r=!0;const n=e.registerUpdateListener(()=>{r&&u(l(e,t))});return()=>{r=!1,n()}},[e,t]),[i,s.useCallback(r=>{e.update(()=>{let n=o.$getSelection();o.$isNodeSelection(n)||(n=o.$createNodeSelection(),o.$setSelection(n)),o.$isNodeSelection(n)&&(r?n.add(t):n.delete(t))})},[e,t]),s.useCallback(()=>{e.update(()=>{const r=o.$getSelection();o.$isNodeSelection(r)&&r.clear()})},[e])]}exports.u=a;
